 generator client {
   provider = "prisma-client-js"
 }

 datasource db {
   provider          = "postgresql"
   url               = env("DATABASE_URL")
   shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
 }

 model Usuario {
   id         Int      @id @default(autoincrement())
   nombre     String
   email      String   @unique
  contrase√±a String
  rol        Rol
  refreshToken String?
  twoFactorSecret String?
  reservas   Reserva[]
}

 model Habitacion {
   id        Int        @id @default(autoincrement())
   numero    Int        @unique
   estado    EstadoHabitacion
   precio    Float
   reservas  Reserva[]
 }

model Reserva {
  id           Int        @id @default(autoincrement())
  cliente      Usuario    @relation(fields: [clienteId], references: [id])
  clienteId    Int
  habitacion   Habitacion @relation(fields: [habitacionId], references: [id])
  habitacionId Int
  fechaInicio  DateTime
  fechaFin     DateTime
  costo        Float
  comentario   String?
  estado       EstadoReserva
}

 enum Rol {
   ADMIN
   RECEPCIONISTA
   CLIENTE
 }

 enum EstadoHabitacion {
   LIBRE
   OCUPADA
   MANTENIMIENTO
 }

enum EstadoReserva {
  PENDIENTE
  CONFIRMADA
  CANCELADA
}
